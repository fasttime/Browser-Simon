(function(){function f(d,b){Object.keys(b).forEach(function(c){var a=Object.getOwnPropertyDescriptor(b,c);"value"in a?(a=a.value,c in d&&"object"===typeof a?f(d[c],a):d[c]=a):Object.defineProperty(d,c,a)})}window.art=function(d){var b;d instanceof Node?b=d:"function"===typeof d?b=d.call(art):b=document.createElement(d);for(var c=arguments.length,a=0;++a<c;){var g=arguments[a];if(g instanceof Node)b.appendChild(g);else if(null!=g){var m=typeof g;"object"===m?f(b,g):"function"===m?g.call(art,b):b.appendChild(document.createTextNode(g))}}return b}})();
(function(){function f(a){if(!c){var g=art("STYLE");art(document.head,g);c=g.sheet}c.insertRule(a,c.cssRules.length)}function d(a,c){return Object.keys(a).map(function(b){return c(b,a[b])})}function b(a,b){var c=d(b,function(a,b){return a+":"+b});return a+"{"+c.join(";")+"}"}art.a=function(a,c){var d=b(a,c);f(d)};art.a.b=function(a){a=d(a,b);f("@keyframes start{"+a.join("")+"}")};var c})();
art.c=function(f,d){return function(b){function c(a){b.addEventListener(a,d,void 0)}Array.isArray(f)?f.forEach(c):c(f)}};
(function(){function f(){do r=r+1&2147483647||1;while(l.has(r));return r}function d(a,e){var b=f();l.set(b,{m:a,s:!1});n.postMessage({action:"REPEAT",id:b,delay:800,interval:e});return b}function b(a,e){var b=f();l.set(b,{m:a,s:!0});n.postMessage({action:"START",id:b,delay:e});return b}function c(a){l["delete"](a)&&n.postMessage({action:"STOP",id:a})}function a(a){this.j=a;x.add(this)}function g(b){t&&t.f();var e=u.createOscillator();e.connect(u.destination);e.frequency.value=b;e.type="square";e.start();
t=a.b(function(){e.disconnect();t=null});return e}function m(){g(42);y(!1,"Game over","#A33");a.b(a.i).o(1500)}function w(){p&&(p.f(),h<k.length?B():C())}function A(b){if(D&&!p){a.i();var e=this.classList;e.add("down");"mousedown"===b.type&&e.add("smooth");if(this===k[h++]){var c=g(this.dataset.frequency);p=a.b(function(){e.remove("down","smooth");c.stop(u.currentTime+.2);p=null})}else a.b(function(){e.remove("down")}),m()}b.preventDefault()}function E(){a.i();k=[];C()}function C(){h=0;y(!1,"Look",
"");k.push(q.children[4*Math.random()^0]);var b=k.length;z.textContent=b;var e=13<b?270:5<b?370:470,f=d(function(){if(h<b){var c=k[h++];g(c.dataset.frequency).stop(u.currentTime+(e-50)/1E3);var d=c.classList;d.add("lit");a.b(function(){d.remove("lit")}).o(e-100)}else F.f()},e),F=a.b(function(){c(f);h=0;B();y(!0,"Play","")})}function y(a,b,c){D=a;q.classList.toggle("ready",a);v.textContent=b;v.style.color=c}function B(){var d=b(function(){d=void 0;var b=k[h].classList;b.add("lit");a.b(function(){b.remove("lit")});
m()},3E3);a.b(function(){c(d)})}var l=new Map,n,r;(function(){var a=URL.createObjectURL(new Blob(['var idMap=new Map;onmessage=function(event){function notify(){postMessage({id})}function startDelay(callback){idMap.set(id,setTimeout(function(){callback();notify()},data.delay))}var data=event.data,id=data.id;switch(data.action){case"START":startDelay(function(){idMap.delete(id)});break;case"REPEAT":startDelay(function(){idMap.set(id,setInterval(notify,data.interval))});break;case"STOP":var nativeId=idMap.get(id);idMap.delete(id);clearTimeout(nativeId);break;}}']));
n=new Worker(a)})();n.onmessage=function(a){a=a.data.id;var b=l.get(a);if(b){var c=b.m;b.s&&l["delete"](a);c()}};var x=new Set;a.b=function(b){return new a(b)};a.i=function(){x.forEach(function(a){a.f()})};a.prototype.f=function(){var a=this.j;a&&(c(this.l),delete this.l,this.j=void 0,x["delete"](this),a())};a.prototype.o=function(a){var e=this;e.j&&(c(e.l),e.l=b(function(){e.f()},a))};var u=new (window.AudioContext||window.webkitAudioContext),t=null,z,v,q,D=!1,p=null,h,k;art(document,art.c("DOMContentLoaded",
function(){document.title="Browser Simon";art(document.head,art("META",{content:"initial-scale=1",name:"viewport"}));art(document.documentElement,art.c("mouseup",w),art.c("touchend",w));var a=art("H1",{style:{font:"bold 28px/100% Georgia",margin:"28px 0",textAlign:"center"}},art("SPAN",{style:{color:"#49F",letterSpacing:"1px"}},"BROWSER"),art("BR"),art("SPAN",{style:{fontSize:"150%"}},"s\u0131mon"));q=art("DIV");var b=art("DIV",{style:{position:"relative",width:"300px",height:"300px"}},q);art.a(".tile",
{"box-shadow":"5px 5px 2.5px #ABABAB",position:"absolute",width:"145px",height:"145px"});art.a(".down",{margin:"3px 0 0 3px"});art.a(".lit,.smooth",{transition:"background 120ms ease, box-shadow 120ms ease, margin 120ms ease"});art.a(".ready *",{cursor:"pointer"});var c={};[{name:"green",frequency:415.305,background:"#DBFFBD",g:"#9F4",h:"#67AB2E"},{name:"red",frequency:311.127,background:"#FFBDBD",g:"#F44",h:"#AB2E2E"},{name:"yellow",frequency:246.942,background:"#FFFFBD",g:"#FF4",h:"#ABAB2E"},{name:"blue",
frequency:207.652,background:"#BDDBFF",g:"#49F",h:"#2E67AB"}].forEach(function(a,b){var d=a.name,e=art("DIV",{className:"tile "+d,dataset:{frequency:a.frequency}},art.c("mousedown",A),art.c("touchstart",A),art.c("mouseout",w)),f=[0,0,0,0],g=b^b>>1;f[g]="145px";var h=a.g,k=a.h;art.a("."+d,{background:a.background,"border-radius":f.join(" "),left:150*(b&1)+"px",top:150*(b>>1)+"px"});art.a(".down."+d,{background:h,"box-shadow":"2px 2px 2.5px "+k});art.a(".lit."+d,{background:h,"box-shadow":"5px 5px 2.5px "+
k});art(q,e);c[25*g+"%"]={color:h}});c["100%"]=c["0%"];art.a.b(c);var d=art("DIV",{className:"start"},"Start",art.c("click",E)),d=art("DIV",{className:"startLayer"},{style:{background:"#888",borderWidth:"1px",position:"absolute",left:"100px",top:"100px",width:"100px",height:"100px"}},d);art(b,d);art.a(".start",{"align-items":"center",background:"#B0C4DE","border-width":"2px",color:"#434A54",cursor:"pointer",display:"flex",font:"bold 20px Verdana","justify-content":"center","letter-spacing":"1px",
margin:"3px",width:"92px",height:"92px"});art.a(".start:active",{"animation-duration":"1.5s","animation-iteration-count":"infinite","animation-name":"start","border-left-color":"#AAA","border-right-color":"#DDD","border-top-color":"#AAA","border-bottom-color":"#DDD"});art.a(".start,.startLayer",{"border-radius":"100%","border-style":"solid","border-left-color":"#DDD","border-right-color":"#AAA","border-top-color":"#DDD","border-bottom-color":"#AAA","box-sizing":"border-box"});z=art("SPAN","\u2014");
v=art("H2",{style:{textAlign:"center"}},"Hello");d=art("FOOTER",{style:{display:"table",margin:"18px 0",tableLayout:"fixed",whiteSpace:"nowrap",width:"100%"}},art("H2",{style:{overflowX:"auto"}},"Round: ",z),v);art.a("h2",{display:"table-cell",font:"24px Verdana"});art(document.body,{style:{color:"#33A",WebkitTapHighlightColor:"transparent",u:"none",MozUserSelect:"none",WebkitUserSelect:"none"}},art("DIV",{style:{margin:"0 auto",width:"300px"}},a,b,d))}))})();
