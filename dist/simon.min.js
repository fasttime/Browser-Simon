!function(){"use strict";function a(b,c){Object.keys(c).forEach(function(d){var e,f=Object.getOwnPropertyDescriptor(c,d);"value"in f?(e=f.value,d in b&&"object"==typeof e?a(b[d],e):b[d]=e):Object.defineProperty(b,d,f)})}window.art=function b(c){var d,e,f,g,h;for(d=c instanceof Node?c:"function"==typeof c?c.call(b):document.createElement(c),e=arguments.length,f=0;++f<e;)g=arguments[f],g instanceof Node?d.appendChild(g):null!=g&&(h=typeof g,"object"===h?a(d,g):"function"===h?g.call(b,d):d.appendChild(document.createTextNode(g)));return d}}(),function(){"use strict";function a(a){if(!d){var b=art("STYLE");art(document.head,b),d=b.sheet}d.insertRule(a,d.cssRules.length)}function b(a,b){return Object.keys(a).map(function(c){return b(c,a[c])})}function c(a,c){return a+"{"+b(c,function(a,b){return a+":"+b}).join(";")+"}"}art.css=function(b,d){a(c(b,d))},art.css.keyframes=function(d,e){a("@keyframes "+d+"{"+b(e,c).join("")+"}")};var d}(),art.on=function(a,b,c){"use strict";function d(d){function e(a){d.addEventListener(a,b,c)}Array.isArray(a)?a.forEach(e):e(a)}return d},function(){"use strict";function a(){do r=r+1&2147483647||1;while(C.has(r));return r}function b(b,c,d){var e=a();return C.set(e,{callback:b,once:!1}),q.postMessage({action:"REPEAT",id:e,delay:c,interval:d}),e}function c(b,c){var d=a();return C.set(d,{callback:b,once:!0}),q.postMessage({action:"START",id:d,delay:c}),d}function d(a){C.delete(a)&&q.postMessage({action:"STOP",id:a})}function e(a){this.job=a,s.add(this)}function f(a){u&&u.do();var b=t.createOscillator();return b.connect(t.destination),b.frequency.value=a,b.type="square",b.start(),u=e.create(function(){b.disconnect(),u=null}),b}function g(a,b){a.stop(t.currentTime+b/1e3)}function h(){f(42),o(!1,"Game over","#A33"),e.create(e.doAll).doAfter(1500)}function i(){z&&(z.do(),A<B.length?p():m())}function j(a){var b,c,d,i;y&&!z&&(e.doAll(),b=this.classList,b.add("down"),"mousedown"===a.type&&b.add("smooth"),c=B[A++],this===c?(d=this.dataset.frequency,i=f(d),z=e.create(function(){b.remove("down","smooth"),g(i,200),z=null})):(e.create(function(){b.remove("down")}),h())),a.preventDefault()}function k(){e.doAll(),B=[],m()}function l(){var a,b,c,d,e,f,g;document.title="Browser Simon",art(document.head,art("META",{content:"initial-scale=1",name:"viewport"})),art(document.documentElement,art.on("mouseup",i),art.on("touchend",i)),a=art("H1",{style:{font:"bold 28px/100% Georgia",margin:"28px 0",textAlign:"center"}},art("SPAN",{style:{color:"#49F",letterSpacing:"1px"}},"BROWSER"),art("BR"),art("SPAN",{style:{fontSize:"150%"}},"sımon")),x=art("DIV"),b=art("DIV",{style:{position:"relative",width:"300px",height:"300px"}},x),art.css(".tile",{"box-shadow":"5px 5px 2.5px #ABABAB",position:"absolute",width:"145px",height:"145px"}),art.css(".down",{margin:"3px 0 0 3px"}),art.css(".lit,.smooth",{transition:"background 120ms ease, box-shadow 120ms ease, margin 120ms ease"}),art.css(".ready *",{cursor:"pointer"}),c=[{name:"green",frequency:415.305,background:"#DBFFBD",lit:"#9F4",shadow:"#67AB2E"},{name:"red",frequency:311.127,background:"#FFBDBD",lit:"#F44",shadow:"#AB2E2E"},{name:"yellow",frequency:246.942,background:"#FFFFBD",lit:"#FF4",shadow:"#ABAB2E"},{name:"blue",frequency:207.652,background:"#BDDBFF",lit:"#49F",shadow:"#2E67AB"}],d={},c.forEach(function(a,b){var c,e,f,g,h=a.name,k=art("DIV",{className:"tile "+h,dataset:{frequency:a.frequency}},art.on("mousedown",j),art.on("touchstart",j),art.on("mouseout",i)),l=[0,0,0,0],m=b^b>>1;l[m]="145px",c=l.join(" "),e=a.background,f=a.lit,g=a.shadow,art.css("."+h,{background:e,"border-radius":c,left:150*(1&b)+"px",top:150*(b>>1)+"px"}),art.css(".down."+h,{background:f,"box-shadow":"2px 2px 2.5px "+g}),art.css(".lit."+h,{background:f,"box-shadow":"5px 5px 2.5px "+g}),art(x,k),d[25*m+"%"]={color:f}}),d["100%"]=d["0%"],art.css.keyframes("start",d),e=art("DIV",{className:"start"},"Start",art.on("click",k)),f=art("DIV",{className:"startLayer"},{style:{background:"#888",borderWidth:"1px",position:"absolute",left:"100px",top:"100px",width:"100px",height:"100px"}},e),art(b,f),art.css(".start",{"align-items":"center",background:"#B0C4DE","border-width":"2px",color:"#434A54",cursor:"pointer",display:"flex",font:"bold 20px Verdana","justify-content":"center","letter-spacing":"1px",margin:"3px",width:"92px",height:"92px"}),art.css(".start:active",{"animation-duration":"1.5s","animation-iteration-count":"infinite","animation-name":"start","border-left-color":"#AAA","border-right-color":"#DDD","border-top-color":"#AAA","border-bottom-color":"#DDD"}),art.css(".start,.startLayer",{"border-radius":"100%","border-style":"solid","border-left-color":"#DDD","border-right-color":"#AAA","border-top-color":"#DDD","border-bottom-color":"#AAA","box-sizing":"border-box"}),v=art("SPAN","—"),w=art("H2",{style:{textAlign:"center"}},"Hello"),g=art("FOOTER",{style:{display:"table",margin:"18px 0",tableLayout:"fixed",whiteSpace:"nowrap",width:"100%"}},art("H2",{style:{overflowX:"auto"}},"Round: ",v),w),art.css("h2",{display:"table-cell",font:"24px Verdana"}),art(document.body,{style:{color:"#33A",WebkitTapHighlightColor:"transparent",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"}},art("DIV",{style:{margin:"0 auto",width:"300px"}},a,b,g))}function m(){function a(){var a,b,d,i;A<c?(a=B[A++],b=a.dataset.frequency,d=f(b),g(d,h-50),i=a.classList,i.add("lit"),e.create(function(){i.remove("lit")}).doAfter(h-100)):j.do()}var c,h,i,j;A=0,o(!1,"Look",""),B.push(n()),c=B.length,v.textContent=c,h=c>13?270:c>5?370:470,i=b(a,800,h),j=e.create(function(){d(i),A=0,p(),o(!0,"Play","")})}function n(){return x.children[4*Math.random()^0]}function o(a,b,c){y=a,x.classList.toggle("ready",a),w.textContent=b,w.style.color=c}function p(){var a=c(function(){var b,c;a=void 0,b=B[A],c=b.classList,c.add("lit"),e.create(function(){c.remove("lit")}),h()},3e3);e.create(function(){d(a)})}var q,r,s,t,u,v,w,x,y,z,A,B,C=new Map;!function(){var a='var idMap=new Map;onmessage=function(event){function notify(){postMessage({id:id})}function startDelay(callback){idMap.set(id,setTimeout(function(){callback();notify()},data.delay))}var data=event.data,id=data.id;switch(data.action){case"START":startDelay(function(){idMap.delete(id)});break;case"REPEAT":startDelay(function(){idMap.set(id,setInterval(notify,data.interval))});break;case"STOP":var nativeId=idMap.get(id);idMap.delete(id);clearTimeout(nativeId);break;}}',b=new Blob([a]),c=URL.createObjectURL(b);q=new Worker(c)}(),q.onmessage=function(a){var b,c=a.data.id,d=C.get(c);d&&(b=d.callback,d.once&&C.delete(c),b())},s=new Set,e.create=function(a){return new e(a)},e.doAll=function(){s.forEach(function(a){a.do()})},e.prototype.do=function(){var a=this.job;a&&(d(this.timerId),delete this.timerId,this.job=void 0,s.delete(this),a())},e.prototype.doAfter=function(a){var b=this;b.job&&(d(b.timerId),b.timerId=c(function(){b.do()},a))},t=new(window.AudioContext||window.webkitAudioContext),u=null,y=!1,z=null,art(document,art.on("DOMContentLoaded",l))}();