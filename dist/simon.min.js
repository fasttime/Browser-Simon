(function(){function p(b,e){Object.keys(e).forEach(function(a){var f=Object.getOwnPropertyDescriptor(e,a);"value"in f?(f=f.value,a in b&&"object"===typeof f?p(b[a],f):b[a]=f):Object.defineProperty(b,a,f)})}function z(b,e){return function(a){function f(b){a.addEventListener(b,e,void 0)}Array.isArray(b)?b.forEach(f):f(b)}}function q(b){if(!g){var e=art("STYLE");art(document.head,e);g=e.sheet}g.insertRule(b,g.cssRules.length)}function k(b,e){return Object.keys(b).map(function(a){return e(a,b[a])})}function a(b,
a){a=k(a,function(b,a){return b+":"+a});return b+"{"+a.join(";")+"}"}window.art=function(b){var a;a=b instanceof Node?b:"function"===typeof b?b.call(art):document.createElement(b);for(var g=arguments.length,f=0;++f<g;){var h=arguments[f];if(h instanceof Node)a.appendChild(h);else if(null!=h){var k=typeof h;"object"===k?p(a,h):"function"===k?h.call(art,a):a.appendChild(document.createTextNode(h))}}return a};art.b=function(a,e){return z(a,e)};art.a=function(b,e){b=a(b,e);q(b)};art.a.o=function(b){b=
k(b,a);q("@keyframes start{"+b.join("")+"}")};var g})();
(function(){function p(){do v=v+1&2147483647||1;while(n.has(v));return v}function z(c,a){var d=p();n.set(d,{l:c,once:!1});c={};r.postMessage((c.action="REPAEAT",c.id=d,c.delay=800,c.interval=a,c));return d}function q(c,a){var d=p();n.set(d,{l:c,once:!0});c={};r.postMessage((c.action="START",c.id=d,c.delay=a,c));return d}function k(c){if(n.delete(c)){var a={};r.postMessage((a.action="STOP",a.id=c,a))}}function a(a){this.i=a;B.add(this)}function g(c){w&&w.c();var d=x.createOscillator();d.connect(x.destination);
d.frequency.value=c;d.type="square";d.start();w=a.create(function(){d.disconnect();w=null});return d}function b(){g(42);A(!1,"Game over","#A33");a.create(a.h).m(1500)}function e(){t&&(t.c(),l<m.length?E():h())}function D(c){if(F&&!t){a.h();var d=this.classList;d.add("down");"mousedown"===c.type&&d.add("smooth");if(this===m[l++]){var e=g(this.dataset.frequency);t=a.create(function(){d.remove("down","smooth");e.stop(x.currentTime+.2);t=null})}else a.create(function(){d.remove("down")}),b()}c.preventDefault()}
function f(){a.h();m=[];h()}function h(){l=0;A(!1,"Look","");m.push(u.children[4*Math.random()^0]);var c=m.length;C.textContent=c;var d=13<c?270:5<c?370:470,b=z(function(){if(l<c){var b=m[l++];g(b.dataset.frequency).stop(x.currentTime+(d-50)/1E3);var f=b.classList;f.add("lit");a.create(function(){f.remove("lit")}).m(d-100)}else e.c()},d),e=a.create(function(){k(b);l=0;E();A(!0,"Play","")})}function A(a,b,e){F=a;u.classList.toggle("ready",a);y.textContent=b;y.style.color=e}function E(){var c=q(function(){c=
void 0;var d=m[l].classList;d.add("lit");a.create(function(){d.remove("lit")});b()},3E3);a.create(function(){k(c)})}var n=new Map,r,v,G=URL.createObjectURL(new Blob(['let idMap\x3dnew Map;onmessage\x3devent\x3d\x3e{let notify\x3d()\x3d\x3epostMessage({id});let startDelay\x3dcallback\x3d\x3eidMap.set(id,setTimeout(()\x3d\x3e{callback();notify()},data.delay));let data\x3devent.data,id\x3ddata.id;switch(data.action){case"START":startDelay(()\x3d\x3eidMap.delete(id));break;case"REPAEAT":startDelay(()\x3d\x3eidMap.set(id,setInterval(notify,data.interval)));break;case"STOP":let nativeId\x3didMap.get(id);idMap.delete(id);clearTimeout(nativeId);break;}}']));
r=new Worker(G);r.onmessage=function(a){a=a.data.id;var b=n.get(a);if(b){var c=b.l;b.once&&n.delete(a);c()}};var B=new Set;a.create=function(b){return new a(b)};a.h=function(){B.forEach(function(a){a.c()})};a.prototype.c=function(){var a=this.i;a&&(k(this.j),delete this.j,this.i=void 0,B.delete(this),a())};a.prototype.m=function(a){var b=this;b.i&&(k(b.j),b.j=q(function(){b.c()},a))};var x=new (window.AudioContext||window.webkitAudioContext),w=null,C,y,u,F=!1,t=null,l,m;art(document,art.b("DOMContentLoaded",
function(){document.title="Browser Simon";art(document.head,art("META",{content:"initial-scale\x3d1",name:"viewport"}));art(document.documentElement,art.b("mouseup",e),art.b("touchend",e));var a=art("H1",{style:{font:"bold 28px/100% Georgia",margin:"28px 0",textAlign:"center"}},art("SPAN",{style:{color:"#49F",letterSpacing:"1px"}},"BROWSER"),art("BR"),art("SPAN",{style:{fontSize:"150%"}},"s\u0131mon"));u=art("DIV");var b=art("DIV",{style:{position:"relative",width:"300px",height:"300px"}},u);art.a(".tile",
{"box-shadow":"5px 5px 2.5px #ABABAB",position:"absolute",width:"145px",height:"145px"});art.a(".down",{margin:"3px 0 0 3px"});art.a(".lit,.smooth",{transition:"background 120ms ease, box-shadow 120ms ease, margin 120ms ease"});art.a(".ready *",{cursor:"pointer"});var h={};[{name:"green",frequency:415.305,background:"#DBFFBD",f:"#9F4",g:"#67AB2E"},{name:"red",frequency:311.127,background:"#FFBDBD",f:"#F44",g:"#AB2E2E"},{name:"yellow",frequency:246.942,background:"#FFFFBD",f:"#FF4",g:"#ABAB2E"},{name:"blue",
frequency:207.652,background:"#BDDBFF",f:"#49F",g:"#2E67AB"}].forEach(function(a,b){var c=a.background,d=a.f,f=a.name,g=a.g;a=art("DIV",{className:"tile "+f,dataset:{frequency:a.frequency}},art.b("mousedown",D),art.b("touchstart",D),art.b("mouseout",e));var k=[0,0,0,0],l=b^b>>1;k[l]="145px";art.a("."+f,{background:c,"border-radius":k.join(" "),left:150*(b&1)+"px",top:150*(b>>1)+"px"});art.a(".down."+f,{background:d,"box-shadow":"2px 2px 2.5px "+g});art.a(".lit."+f,{background:d,"box-shadow":"5px 5px 2.5px "+
g});art(u,a);h[25*l+"%"]={color:d}});h["100%"]=h["0%"];art.a.o(h);var g=art("DIV",{className:"start"},"Start",art.b("click",f)),g=art("DIV",{className:"startLayer"},{style:{background:"#888",borderWidth:"1px",position:"absolute",left:"100px",top:"100px",width:"100px",height:"100px"}},g);art(b,g);art.a(".start",{"align-items":"center",background:"#B0C4DE","border-width":"2px",color:"#434A54",cursor:"pointer",display:"flex",font:"bold 20px Verdana","justify-content":"center","letter-spacing":"1px",
margin:"3px",width:"92px",height:"92px"});art.a(".start:active",{animation:"start 1.5s infinite","border-color":"#AAA #DDD #DDD #AAA"});art.a(".start,.startLayer",{"border-color":"#DDD #AAA #AAA #DDD","border-radius":"100%","border-style":"solid","box-sizing":"border-box"});C=art("SPAN","\u2014");y=art("H2",{style:{textAlign:"center"}},"Hello");g=art("FOOTER",{style:{display:"table",margin:"18px 0",tableLayout:"fixed",whiteSpace:"nowrap",width:"100%"}},art("H2",{style:{overflowX:"auto"}},"Round: ",
C),y);art.a("h2",{display:"table-cell",font:"24px Verdana"});art(document.body,{style:{color:"#33A",WebkitTapHighlightColor:"transparent",s:"none",MozUserSelect:"none",WebkitUserSelect:"none"}},art("DIV",{style:{cursor:"default",margin:"0 auto",width:"300px"}},a,b,g))}))})();